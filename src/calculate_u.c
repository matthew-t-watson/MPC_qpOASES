/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 * File: calculate_u.c
 *
 * MATLAB Coder version            : 3.3
 * C/C++ source code generated on  : 11-May-2018 14:37:51
 */

/* Include Files */
#include "calculate_u.h"

/* Function Definitions */

/*
 * r = zeros(numel(r_reduced)*(8/3),1);
 *  for i=1:numel(r_reduced/3)
 *      r((i-1)*8+(1:3)) = r_reduced((i-1)*3+(1:3));
 *  end
 * Arguments    : const double x[8]
 *                const double r[9]
 *                const double c[12]
 *                double u[4]
 * Return Type  : void
 */
void calculate_u(const double x[8], const double r[9], const double c[12],
                 double u[4])
{
  int i0;
  double a[4];
  int i1;
  double b_a[4];
  static const double c_a[32] = { 0.85447435417628836, -0.8544743541762877,
    -0.85447435417628814, 0.854474354176287, 0.30587748181443647,
    0.30587748181444274, 0.3058774818144499, 0.30587748181444785,
    -0.756622940245484, -0.45397376414728924, 0.45397376414729157,
    0.756622940245484, 0.38806111617540978, 0.388061116175414,
    0.38806111617541661, 0.38806111617541733, 0.20550743634835769,
    -0.20550743634835772, -0.20550743634835772, 0.20550743634835741,
    0.21047406124543952, 0.21047406124544382, 0.2104740612454474,
    0.21047406124544524, -0.070416704301071831, -0.04225002258064306,
    0.042250022580643143, 0.070416704301071859, 0.06309339738793221,
    0.0630933973879327, 0.063093397387933126, 0.063093397387932848 };

  static const double d_a[36] = { -0.623874302858485, 0.62387430285848433,
    0.623874302858485, -0.62387430285848422, -0.028618213439513707,
    -0.028618213439517315, -0.028618213439520368, -0.028618213439517981,
    0.29454213238096044, 0.17672527942857558, -0.17672527942857658,
    -0.2945421323809595, 0.17669583983139484, -0.17669583983139475,
    -0.17669583983139445, 0.17669583983139459, 0.038833579380596582,
    0.038833579380597311, 0.038833579380598962, 0.038833579380599247,
    -0.15618611869282772, -0.093711671215696929, 0.093711671215696388,
    0.15618611869282789, -0.40729589114919429, 0.40729589114919329,
    0.40729589114919257, -0.40729589114919373, -0.3160928477555055,
    -0.31609284775550256, -0.31609284775550206, -0.31609284775550284,
    0.61826692655735116, 0.370960155934411, -0.37096015593441006,
    -0.61826692655735149 };

  for (i0 = 0; i0 < 4; i0++) {
    a[i0] = 0.0;
    for (i1 = 0; i1 < 8; i1++) {
      a[i0] += c_a[i0 + (i1 << 2)] * x[i1];
    }

    b_a[i0] = 0.0;
    for (i1 = 0; i1 < 9; i1++) {
      b_a[i0] += d_a[i0 + (i1 << 2)] * r[i1];
    }

    u[i0] = (a[i0] + b_a[i0]) + c[i0];
  }
}

/*
 * Arguments    : void
 * Return Type  : void
 */
void calculate_u_initialize(void)
{
}

/*
 * File trailer for calculate_u.c
 *
 * [EOF]
 */
